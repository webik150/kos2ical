function generate(h){function q(g,o){var k=0xa;window['setTimeout'](function(){window[g]?o(window[g]):q(g,o);},k);}function m(b,r){r===void 0x0&&(r=!![]);var j=new Date(b);return[j['getUTCFullYear']()['toString']()['padStart'](0x4,'0'),(j['getUTCMonth']()+0x1)['toString']()['padStart'](0x2,'0'),j['getUTCDate']()['toString']()['padStart'](0x2,'0'),'T',j['getUTCHours']()['toString']()['padStart'](0x2,'0'),j['getUTCMinutes']()['toString']()['padStart'](0x2,'0'),j['getUTCSeconds']()['toString']()['padStart'](0x2,'0'),r?'Z':'']['join']('');};function c(i){let u=i['offsetTop']/0x78;if(u===0x0)return'MO';else{if(u===0x1)return'TU';else{if(u===0x2)return'WE';else{if(u===0x3)return'TH';else{if(u===0x4)return'FR';}}}}}function v(){var l=new ICAL['Component'](['vcalendar',[],[]]);l['updatePropertyWithValue']('prodid','-//AMU\x20KOS\x20Schedule\x20generator');let p=$('#tabRozvrh\x20[id^=detaillistek'),s=$('#tabRozvrh\x20[id^=listek');for(let t=0x0;t<p['length'];t+=0x1){let e=$(p['get'](t))['children']()['contents']()['filter'](function(){return this['nodeType']==0x1;}),a=[],d=$(p['get'](t))['children']()['contents']()['filter'](function(){return this['nodeType']==0x3;})['map'](function(E,O){return O['nodeValue']['replace'](/[:\-,\(\)]|[0-9]/g,'')['trim']();});texty=[];for(let S=0x0;S<d['length'];S+=0x1){d[S]&&texty['push']({'title':d[S],'value':''});}let Q=0x0;for(let U=0x0;U<e['length']&&Q<texty['length'];U+=0x1){e[U]['tagName']=='BR'?Q+=0x1:texty[Q]['value']==''?texty[Q]['value']=e[U]['innerHTML']:texty[Q]['value']+=',\x20'+e[U]['innerHTML'];}let P=new ICAL['Component']('vevent'),K=new ICAL['Event'](P),N=texty[0x7]['value']['split']('-'),D=N[0x0]['split'](':'),L=N[0x1]['split'](':');K['summary']=texty[0x1]['value'],K['description']=texty[0x4]['value']+',\x20'+texty[0x3]['value'],K['uid']=texty[0x0]['value'],K['startDate']=ICAL['Time']['now']()['startOfWeek'](0x2),K['startDate']['day']+=s[t]['offsetTop']/0x78,K['startDate']['hour']=parseInt(D[0x0]),K['startDate']['minute']=parseInt(D[0x1]),K['startDate']['wrappedJSObject']['isDate']=![],K['startDate']=ICAL['Time']['fromString'](K['startDate']['toString']()),K['endDate']=ICAL['Time']['now']()['startOfWeek'](0x2),K['endDate']['day']+=s[t]['offsetTop']/0x78,K['endDate']['hour']=parseInt(L[0x0]),K['endDate']['minute']=parseInt(L[0x1]),K['endDate']['wrappedJSObject']['isDate']=![],K['endDate']=ICAL['Time']['fromString'](K['endDate']['toString']()),P['addPropertyWithValue']('RRULE','FREQ=WEEKLY;BYDAY='+c(s[t])+';INTERVAL=1;UNTIL='+m(h)),l['addSubcomponent'](P);}console['log'](l['toString']()),$('script[src=\x22https://unpkg.com/ical.js@1.4.0/build/ical.js\x22]')['remove']();}$('head')['append']('<script\x20async\x20defer\x20type=\x22text/javascript\x22\x20src=\x22https://unpkg.com/ical.js@1.4.0/build/ical.js\x22></script>'),q('ICAL',function(I){v();});}